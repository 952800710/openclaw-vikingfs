name: Simple CI

on:
  push:
    branches: [ master, main ]
  pull_request:
    branches: [ master, main ]

jobs:
  basic-checks:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
    
    - name: Check Python availability
      run: |
        python --version
        echo "âœ… Python is available"
    
    - name: Check project structure
      run: |
        echo "ğŸ” Checking project structure..."
        ls -la
        echo "---"
        test -f setup.py && echo "âœ… setup.py exists"
        test -f README.md && echo "âœ… README.md exists"
        test -f requirements.txt && echo "âœ… requirements.txt exists"
        test -f LICENSE && echo "âœ… LICENSE exists"
        test -f CONTRIBUTING.md && echo "âœ… CONTRIBUTING.md exists"
        
    - name: Check viking module
      run: |
        echo "ğŸ” Checking viking module structure..."
        ls -la viking/
        echo "---"
        test -d viking/integration && echo "âœ… integration/ directory exists"
        test -d viking/tools && echo "âœ… tools/ directory exists"
        test -d viking/memory && echo "âœ… memory/ directory exists"
        test -d viking/config && echo "âœ… config/ directory exists"
        
    - name: Run simple Python test
      run: |
        echo "ğŸ§ª Running simple Python import tests..."
        python -c "
try:
    import sys
    sys.path.append('.')
    from viking.integration.bridge_v2 import OpenClawVikingBridgeV2
    print('âœ… OpenClawVikingBridgeV2 imported successfully')
except Exception as e:
    print(f'âŒ Import error: {e}')
    sys.exit(1)
"
        
    - name: Check demo script
      run: |
        echo "ğŸš€ Checking demo script..."
        if [ -f "viking/tools/real_demo.py" ]; then
            python viking/tools/real_demo.py --dry-run
            echo "âœ… Demo script runs successfully"
        else
            echo "âš ï¸ Demo script not found, skipping"
        fi
        
    - name: Create success summary
      run: |
        echo "ğŸ‰ All basic checks passed!"
        echo "Project structure: âœ“"
        echo "Python imports: âœ“"
        echo "Core files: âœ“"
        echo "Module structure: âœ“"